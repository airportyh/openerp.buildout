[buildout]
extends = profiles/base.cfg


[openerp]
urls =
    lp:openobject-server/6.0@3425       server
    lp:openobject-client-web/6.0@4625   web-client
    lp:openobject-addons/6.0@4525       addons
    lp:openobject-addons/extra-6.0@5325 extra-addons
server_addons =
    addons/account
    addons/analytic
    addons/base_setup
    addons/board
    addons/decimal_precision
    addons/process
    addons/procurement
    addons/product
    addons/sale
    addons/stock
    addons/web_livechat
    extra-addons/smtpclient
    custom-modules/*


[openerp-init]
cmds +=
    # Get our custom modules from our internal repository
    svn co https://svn.example.com/custom-modules/trunk ${openerp:location}/custom-modules


[postgresql-install]
cmds +=
    # Allow remote connexion on the database with a stupid password for easy debugging
    sudo -u postgres psql --command "ALTER USER postgres WITH PASSWORD 'postgres';"
    # Ask for the password
    sudo su postgres -c "createuser --createdb --no-createrole --pwprompt openuser"


[openerp-config]
input = ${buildout:directory}/custom_server.conf.in
